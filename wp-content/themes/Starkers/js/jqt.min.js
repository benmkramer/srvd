(function(){jQTouchCore=function(u){var A=u.framework,z,r=A("head"),l=[],E=0,m={},B="",t="portrait",h=[],w={},i=100,H=jQTouchCore.prototype.extensions,L=[],q="",C={addGlossToIcon:true,backSelector:".goback",cacheGetRequests:true,debug:true,defaultAnimation:"slideleft",fixedViewport:true,formSelector:"form",fullScreen:true,fullScreenClass:"fullscreen",icon:null,icon4:null,preloadImages:false,startupScreen:null,statusBar:"default",submitSelector:".submit",touchSelector:"a, .touch",trackScrollPositions:true,useAnimations:true,useFastTouch:true,useTouchScroll:true,animations:[{name:"cubeleft",selector:".cubeleft, .cube",is3d:true},{name:"cuberight",selector:".cuberight",is3d:true},{name:"dissolve",selector:".dissolve"},{name:"fade",selector:".fade"},{name:"flipleft",selector:".flipleft, .flip",is3d:true},{name:"flipright",selector:".flipright",is3d:true},{name:"pop",selector:".pop",is3d:true},{name:"swapleft",selector:".swap",is3d:true},{name:"slidedown",selector:".slidedown"},{name:"slideright",selector:".slideright"},{name:"slideup",selector:".slideup"},{name:"slideleft",selector:".slideleft, .slide, #jqt > * > ul li a"}]};function j(M){if(window.console!==undefined&&m.debug===true){console.warn(M)}}function b(M){if(typeof(M.selector)==="string"&&typeof(M.name)==="string"){L.push(M)}}function k(N,M){l.unshift({page:N,animation:M,hash:"#"+N.attr("id"),id:N.attr("id")})}function o(N){var M=A(N.target);if(!M.is(h.join(", "))){M=A(N.target).closest(h.join(", "))}if(M&&M.attr("href")&&!M.isExternalLink()){N.preventDefault()}else{}if(A.support.touch){}else{A(N.target).trigger("tap",N)}}function c(T,O,S,N){N=N?N:false;if(O===undefined||O.length===0){A.fn.unselect();return false}if(O.hasClass("current")){A.fn.unselect();return false}A(":focus").trigger("blur");T.trigger("pageAnimationStart",{direction:"out",back:N});O.trigger("pageAnimationStart",{direction:"in",back:N});if(A.support.animationEvents&&S&&m.useAnimations){if(!A.support.transform3d&&S.is3d){S.name=m.defaultAnimation}var M=S.name,R=S.is3d?"animating3d":"";if(N){M=M.replace(/left|right|up|down|in|out/,e)}T.bind("webkitAnimationEnd",P);z.addClass("animating "+R);var Q=window.pageYOffset;if(m.trackScrollPositions===true){O.css("top",window.pageYOffset-(O.data("lastScroll")||0))}O.addClass(M+" in current");T.addClass(M+" out");if(m.trackScrollPositions===true){T.data("lastScroll",Q);A(".scroll",T).each(function(){A(this).data("lastScroll",this.scrollTop)})}}else{O.addClass("current in");P()}function P(V){var U=i;if(A.support.animationEvents&&S&&m.useAnimations){T.unbind("webkitAnimationEnd",P);T.removeClass("current "+M+" out");O.removeClass(M);z.removeClass("animating animating3d");if(m.trackScrollPositions===true){O.css("top",-O.data("lastScroll"));setTimeout(function(){O.css("top",0);window.scroll(0,O.data("lastScroll"));A(".scroll",O).each(function(){this.scrollTop=-A(this).data("lastScroll")})},0)}}else{T.removeClass(M+" out current");U+=260}setTimeout(function(){O.removeClass("in")},U);B=O;if(N){l.shift()}else{k(B,S)}T.unselect();n(B.attr("id"));O.trigger("pageAnimationEnd",{direction:"in",animation:S});T.trigger("pageAnimationEnd",{direction:"out",animation:S})}return true}function e(M){var N={up:"down",down:"up",left:"right",right:"left","in":"out",out:"in"};return N[M]||M}function K(){return t}function g(){if(l.length<1){}if(l.length===1){window.history.go(-1)}var N=l[0],M=l[1];if(c(N.page,M.page,N.animation,true)){return w}else{return false}}function G(P,Q){var R=l[0].page;if(typeof Q==="string"){for(var O=0,M=L.length;O<M;O++){if(L[O].name===Q){Q=L[O];break}}}if(typeof P==="string"){var N=A(P);if(N.length<1){d(P,{animation:Q});return}else{P=N}}if(c(R,P,Q)){return w}else{return false}}function J(M){if(location.hash===l[0].hash){return true}else{if(location.hash===""){g();return true}else{if((l[1]&&location.hash===l[1].hash)){g();return true}else{G(A(location.hash),m.defaultAnimation)}}}}function I(M){m=A.extend({},C,M);if(m.preloadImages){for(var N=m.preloadImages.length-1;N>=0;N--){(new Image()).src=m.preloadImages[N]}}if(q){r.prepend(q)}}function a(O){var P;for(var N=0,M=L.length;N<M;N++){if(O.is(L[N].selector)){P=L[N];break}}if(!P){P=m.defaultAnimation}return P}function x(M,N){var O=null;var P=document.createElement("div");P.innerHTML=M;A(P).children().each(function(R,S){var Q=A(this);if(!Q.attr("id")){Q.attr("id","page-"+(++E))}A("#"+Q.attr("id")).remove();z.append(Q);z.trigger("pageInserted",{page:Q});if(Q.hasClass("current")||!O){O=Q}});if(O!==null){G(O,N);return O}else{return false}}function f(){z.css("minHeight",1000);scrollTo(0,0);var M=window.innerHeight;z.css("minHeight",M);t=Math.abs(window.orientation)==90?"landscape":"portrait";z.removeClass("portrait landscape").addClass(t).trigger("turn",{orientation:t})}function n(M){location.hash="#"+M.replace(/^#/,"")}function d(M,N){var P={data:null,method:"GET",animation:null,callback:null,$referrer:null};var O=A.extend({},P,N);if(M!="#"){A.ajax({url:M,data:O.data,type:O.method,success:function(Q){return false;var R=x(Q,O.animation);if(R){if(O.method=="GET"&&m.cacheGetRequests===true&&O.$referrer){new TouchScroll(document.querySelector("#"+R.attr("id")),{elastic:true});O.$referrer.attr("href","#"+R.attr("id"))}if(O.callback){O.callback(true)}}},error:function(Q){if(O.$referrer){O.$referrer.unselect()}if(O.callback){O.callback(false)}}})}else{if(O.$referrer){O.$referrer.unselect()}}}function p(N,O){A(":focus").trigger("blur");N.preventDefault();var M=(typeof(N)==="string")?A(N).eq(0):(N.target?A(N.target):A(N));if(M.length&&M.is(m.formSelector)&&M.attr("action")){d(M.attr("action"),{data:M.serialize(),method:M.attr("method")||"POST",animation:a(M),callback:O});return false}return true}function F(N){var M=N.closest("form");if(M.length===0){}else{M.trigger("submit");return false}return true}function y(){var O,N,P,Q,M;O=document.getElementsByTagName("head")[0];N=document.body;P=document.createElement("style");P.textContent="@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-webkit-transform-3d){#jqt-3dtest{height:3px}}";Q=document.createElement("div");Q.id="jqt-3dtest";O.appendChild(P);N.appendChild(Q);M=Q.offsetHeight===3;P.parentNode.removeChild(P);Q.parentNode.removeChild(Q);return M}function s(O){var N=A(O.target),M=h.join(", ");if(!N.is(M)){N=N.closest(M)}if(N.length&&N.attr("href")){N.addClass("active")}N.on(A.support.touch?"touchmove":"mousemove",function(){N.removeClass("active")});N.on("touchend",function(){N.unbind("touchmove mousemove")})}function D(R){var N=A(R.target);if(!N.is(h.join(", "))){N=N.closest(h.join(", "))}if(!N.length||!N.attr("href")){return false}var Q=N.attr("target"),P=N.prop("hash"),M=N.attr("href"),O=null;if(N.isExternalLink()){N.unselect();return true}else{if(N.is(m.backSelector)){g(P)}else{if(N.is(m.submitSelector)){F(N)}else{if(Q==="_webapp"){window.location=M;return false}else{if(M==="#"){N.unselect();return true}else{O=a(N);if(P&&P!=="#"){N.addClass("active");G(A(P).data("referrer",N),O,N.hasClass("reverse"));return false}else{N.addClass("loading active");d(N.attr("href"),{animation:O,callback:function(){N.removeClass("loading");setTimeout(A.fn.unselect,250,N)},$referrer:N});return false}}}}}}}I(u);A(document).ready(function v(){if(!A.support){A.support={}}A.support.animationEvents=(typeof window.WebKitAnimationEvent!="undefined");A.support.touch=(typeof window.TouchEvent!="undefined")&&(window.navigator.userAgent.indexOf("Mobile")>-1)&&m.useFastTouch;A.support.transform3d=y();A.support.ios5=/OS (5(_\d+)*) like Mac OS X/i.test(window.navigator.userAgent);if(!A.support.touch){}if(!A.support.transform3d){}A.fn.isExternalLink=function(){var U=A(this);return(U.attr("target")=="_blank"||U.attr("rel")=="external"||U.is('a[href^="http://maps.google.com"], a[href^="mailto:"], a[href^="tel:"], a[href^="javascript:"], a[href*="youtube.com/v"], a[href*="youtube.com/watch"]'))};A.fn.makeActive=function(){return A(this).addClass("active")};A.fn.unselect=function(U){if(U){U.removeClass("active")}else{A(".active").removeClass("active")}};for(var P=0,M=H.length;P<M;P++){var S=H[P];if(A.isFunction(S)){A.extend(w,S(w))}}for(var O=0,N=C.animations.length;O<N;O++){var T=C.animations[O];if(m[T.name+"Selector"]!==undefined){T.selector=m[T.name+"Selector"]}b(T)}h.push(m.touchSelector);h.push(m.backSelector);h.push(m.submitSelector);A(h.join(", ")).css("-webkit-touch-callout","none");z=A("#jqt");var R=[];if(z.length===0){z=A(document.body).attr("id","jqt")}if(A.support.transform3d){R.push("supports3d")}if(A.support.ios5&&m.useTouchScroll){R.push("touchscroll")}if(m.fullScreenClass&&window.navigator.standalone===true){R.push(m.fullScreenClass,m.statusBar)}z.addClass(R.join(" ")).bind("click",o).bind("orientationchange",f).bind("submit",p).bind("tap",D).bind(A.support.touch?"touchstart":"mousedown",s).trigger("orientationchange");A(window).bind("hashchange",J);var Q=location.hash;if(A("#jqt > .current").length===0){B=A("#jqt > *:first-child").addClass("current")}else{B=A("#jqt > .current")}n(B.attr("id"));k(B);if(A(Q).length===1){G(Q)}});w={addAnimation:b,animations:L,getOrientation:K,goBack:g,insertPages:x,goTo:G,history:l,settings:m,submitForm:p};return w};jQTouchCore.prototype.extensions=[];if(!!window.Zepto){(function(a){a.jQTouch=function(b){b.framework=a;return jQTouchCore(b)};a.fn.prop=a.fn.attr;a.jQTouch.addExtension=function(b){jQTouchCore.prototype.extensions.push(b)}})(Zepto)}})();